<div class="movie-card" (click)="detail.openModal()">
  <!-- Movie Poster -->
  <div class="movie-poster">
    <img [src]="movie.poster" [alt]="movie.title + ' poster'" />
    
    <!-- Rating Badge -->
    <div class="rating-badge">
      {{ calculateRating() }}
    </div>
    
    <!-- Status Badge (optional) -->
    <div class="movie-status" *ngIf="movie.released && isNewMovie()">
      <span class="status-badge status-new">New</span>
    </div>
  </div>
  
  <!-- Movie Content -->
  <div class="movie-content">
    <h3 class="movie-title">{{ movie.title }}</h3>
    
    <p class="movie-description">
      {{ movie.plot || 'Experience this amazing film with stunning visuals and compelling storytelling.' }}
    </p>
    
    <div class="movie-meta">
      <i class="far fa-calendar-alt"></i>
      <span>{{ movie.released || 'Release date not available' }}</span>
    </div>
    
    <!-- Action Buttons -->
    <div class="movie-actions" *ngIf="canManage()" (click)="$event.stopPropagation()">
      <a class="action-button edit-button" [routerLink]="['/movie/edit', movie.id || 0]">
        <i class="fas fa-edit"></i>
        <span>Edit</span>
      </a>
      
      <button
        class="action-button delete-button"
        [class.loading]="isLoading"
        (click)="delete($event, movie.id || 0)"
        [disabled]="isLoading"
      >
        <span class="loading-spinner" *ngIf="isLoading"></span>
        <i *ngIf="!isLoading" class="far fa-trash-alt"></i>
        <span>{{ isLoading ? 'Deleting...' : 'Delete' }}</span>
      </button>
    </div>
  </div>
</div>

<app-details #detail [movie]="movie"></app-details>
